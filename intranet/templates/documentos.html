{% extends 'base.html' %} 
{% load static %}

{% block content %}
<header class="header">
    <h1>Repositorio Documental</h1>
</header>

<section class="content-box">
    <h2>Buscar Documentos</h2>

    <input type="text" placeholder="Buscar protocolo, formulario, guía..." class="form-control" style="width: 100%; padding: 12px; margin-bottom: 20px; border: 1px solid #ddd; border-radius: 5px;">

    <table style="width:100%; border-collapse: collapse;">
        <thead style="text-align: left;">
            <tr>
                <th style="padding: 10px; border-bottom: 2px solid #ddd;">Documento</th>
                <th style="padding: 10px; border-bottom: 2px solid #ddd;">Categoría</th>
                <th style="padding: 10px; border-bottom: 2px solid #ddd;">Fecha Carga</th>
                <th style="padding: 10px; border-bottom: 2px solid #ddd;">Acción</th>
            </tr>
        </thead>
        <tbody>
            {% for doc in documentos %}
            <tr>
                <td style="padding: 10px; border-bottom: 1px solid #eee;">{{ doc.titulo }}</td>
                <td style="padding: 10px; border-bottom: 1px solid #eee;">{{ doc.categoria }}</td>
                <td style="padding: 10px; border-bottom: 1px solid #eee;">{{ doc.fecha_carga|date:"d-m-Y" }}</td>
                <td style="padding: 10px; border-bottom: 1px solid #eee;"><a href="{{ doc.ruta_archivo.url }}">Descargar</a></td> 
            </tr>
            {% empty %}
            <tr>
                <td colspan="4" style="padding: 10px; text-align: center;">No hay documentos cargados en el repositorio.</td>
            </tr>
            {% endfor %}
            <tr>
                <td style="padding: 10px; border-bottom: 1px solid #eee;">Protocolo COVID-19.pdf</td>
                <td style="padding: 10px; border-bottom: 1px solid #eee;">Protocolo</td>
                <td style="padding: 10px; border-bottom: 1px solid #eee;">21-10-2025</td>
                <td style="padding: 10px; border-bottom: 1px solid #eee;"><a href="#">Descargar</a></td>
            </tr>
        </tbody>
    </table>
</section>

{% endblock %}